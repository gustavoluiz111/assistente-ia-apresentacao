<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EcoRobôs 3D Interativo</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
<style>
:root {
  --dark-blue: #29648e;
  --light-neutral: #f4f6f8;
  --neon-cyan: #00ffff;
  --neon-green: #39ff14;
}
body {
  margin:0;
  font-family: 'Orbitron', sans-serif;
  background-color: var(--dark-blue);
  color: var(--light-neutral);
  overflow-x:hidden;
  transition: background 0.5s,color 0.5s;
  position: relative;
}
body.claro { background:#f0f0f0; color:#000; }

header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px 20px;
  position:fixed;
  width:100%;
  top:0;
  background: rgba(41,100,142,0.9);
  z-index: 1000;
  box-shadow: 0 2px 10px rgba(0,0,0,0.3);
}
header .left{
  display:flex;
  align-items:center;
  gap:10px; /* logo próxima da lamparina */
}
.logo { height:50px; width:150px; background-color: var(--neon-cyan); display:flex; align-items:center; justify-content:center; color:var(--dark-blue); font-weight:bold; font-size:1.2rem; border-radius:8px; }
nav a { color: var(--light-neutral); text-decoration:none; margin-left:25px; font-weight:500; position:relative; transition: color 0.3s; }
nav a::after { content:''; display:block; height:2px; background:var(--neon-cyan); transition: width 0.3s; width:0; position:absolute; bottom:-4px; left:0; }
nav a:hover { color:var(--neon-cyan); }
nav a:hover::after { width:100%; }

.lampada-btn{ cursor:pointer; width:50px; height:50px; transition: transform 0.2s; }
.lampada-btn:hover{ transform: scale(1.1); }
.lampada svg{ fill:#444; filter: drop-shadow(0 0 5px #000); transition: fill 0.5s ease, filter 0.5s ease; }
.lampada.acesa svg{ fill:#00BFFF; filter:drop-shadow(0 0 25px #1E90FF); animation: piscar 0.6s ease, fogo 2s infinite ease-in-out alternate; }
@keyframes piscar { 0%{fill:#444; filter:drop-shadow(0 0 5px #000);}30%{fill:#00BFFF;filter:drop-shadow(0 0 15px #1E90FF);}50%{fill:#444;filter:drop-shadow(0 0 5px #000);}80%{fill:#00BFFF;filter:drop-shadow(0 0 20px #63B8FF);}100%{fill:#00BFFF;filter:drop-shadow(0 0 25px #1E90FF);} }
@keyframes fogo { 0%{transform:scale(1) translateY(0);filter:drop-shadow(0 0 20px #1E90FF);}25%{transform:scale(1.05) translateY(-2px);filter:drop-shadow(0 0 25px #63B8FF);}50%{transform:scale(0.95) translateY(1px);filter:drop-shadow(0 0 18px #00BFFF);}75%{transform:scale(1.08) translateY(-1px);filter:drop-shadow(0 0 28px #87CEFA);}100%{transform:scale(1) translateY(0);filter:drop-shadow(0 0 22px #1E90FF);} }

section{padding:120px 40px 80px; min-height:100vh; position:relative; z-index:1; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;}
.hero h1{ font-size:3rem; color:var(--neon-cyan); margin-bottom:20px; text-align:center; }
.hero p{ font-size:1.2rem; max-width:700px; line-height:1.6; color:var(--light-neutral); text-align:center; }
body.claro .hero h1{ color:#000; }
body.claro .hero p{ color:#000; }

.mascote{
  width:120px;  /* aumentei */
  height:120px; /* aumentei */
  position:absolute;
  bottom:20px;
  right:20px;
  border-radius:12px;
  animation:float 3s ease-in-out infinite;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--dark-blue);
  font-weight:bold;
  font-size:3rem; /* maior */
  z-index:5;
}
@keyframes float { 0%,100%{transform:translateY(0);}50%{transform:translateY(-15px);} }

.balao{
  position:absolute;
  background:#29648e;
  border:2px solid var(--neon-cyan);
  border-radius:10px;
  padding:10px 15px;
  max-width:220px;
  color:var(--neon-cyan);
  font-size:0.85rem;
  display:none;
  opacity:0;
  transform-origin:bottom right;
  transition: transform 0.3s ease, opacity 0.3s ease;
}
.balao::after{
  content:''; position:absolute; bottom:-10px; right:15px;
  border-width:10px 10px 0 10px;
  border-style:solid;
  border-color:#29648e transparent transparent transparent;
}
body.claro .balao{ background:#f0f0f0; border-color:#00BFFF; color:#000; }
body.claro .balao::after{ border-color:#f0f0f0 transparent transparent transparent; }

canvas#particles, canvas#three-canvas { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:0; }

.linha { position:absolute; height:2px; background: linear-gradient(90deg,var(--neon-cyan),var(--neon-green)); opacity:0.6; animation:pulse 2s infinite alternate; }
@keyframes pulse {0%{transform:scaleX(0.9);opacity:0.3;}50%{transform:scaleX(1.1);opacity:0.7;}100%{transform:scaleX(0.9);opacity:0.3;}}

/* RESPONSIVO */
@media (max-width:768px){
  header{ flex-direction: column; gap:10px; padding:10px; }
  nav a{ margin-left:10px; font-size:0.9rem; }
  .logo{ width:120px; height:40px; font-size:1rem; }
  .lampada-btn{ width:40px; height:40px; }
  .hero h1{ font-size:2rem; }
  .hero p{ font-size:1rem; max-width:90%; }
  .mascote{ width:90px; height:90px; font-size:2.2rem; }
}
</style>
</head>
<body>
<canvas id="particles"></canvas>
<canvas id="three-canvas"></canvas>

<header>
  <div class="left">
    <div class="logo">LOGO AQUI</div>
    <div class="lampada lampada-btn" id="lampada" title="Modo Claro/Escuro">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
        <path d="M192 0C209.7 0 224 14.33 224 32V64H160V32C160 14.33 174.3 0 192 0zM128 64H256V128H128V64zM96 128H288C314.5 128 336 149.5 336 176V288C336 340.9 307.1 387.3 264 409.6V448H120V409.6C76.89 387.3 48 340.9 48 288V176C48 149.5 69.49 128 96 128zM160 352C160 369.7 174.3 384 192 384C209.7 384 224 369.7 224 352C224 334.3 209.7 320 192 320C174.3 320 160 334.3 160 352zM120 480H264C277.3 480 288 490.7 288 504C288 508.4 284.4 512 280 512H104C99.58 512 96 508.4 96 504C96 490.7 106.7 480 120 480z"/>
      </svg>
    </div>
  </div>
  <nav>
    <a href="index.html">Home</a>
    <a href="projetos.html">Projetos</a>
    <a href="lixo.html">Lixo Eletrônico</a>
    <a href="ia.html">IA</a>
    <a href="creditos.html">Créditos</a>
  </nav>
</header>

<section class="hero fade-in">
  <h1>Bem-vindo ao EcoRobôs 3D</h1>
  <p>Aqui você vai descobrir como a tecnologia e a sustentabilidade se encontram. Explore nossos projetos de robótica, interaja com a IA e aprenda sobre lixo eletrônico.</p>
</section>

<div class="mascote" id="mascote">🤖</div>

<section class="projetos fade-in" id="projetos">
  <h2>Projetos EcoRobôs</h2>
  <p>Explore nossos robôs, site com IA e projetos de Lixo Eletrônico.</p>
  <div class="linha" style="top:50px; left:10%; width:80%;"></div>
  <div class="linha" style="top:200px; left:15%; width:70%;"></div>
</section>

<script src="https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.min.js"></script>
<script>
  // --- Lâmpada ---
  const lampada = document.getElementById("lampada");
  lampada.addEventListener("click", ()=>{
    lampada.classList.toggle("acesa");
    document.body.classList.toggle("claro");
  });

  // --- Mascote ---
  const mascote = document.getElementById("mascote");
  const balao = document.createElement("div");
  balao.classList.add("balao");
  document.body.appendChild(balao);
  const dicas = [
    "Separe plásticos, metais e circuitos!",
    "Reaproveite peças antigas.",
    "Use sensores para automatizar.",
    "Pequenos robôs ajudam a reciclar."
  ];
  let dicaIndex=0;
  mascote.addEventListener("click", ()=>{
    balao.style.display="block";
    balao.textContent=dicas[dicaIndex];
    dicaIndex=(dicaIndex+1)%dicas.length;
    balao.style.transform="scale(0)";
    balao.style.opacity="0";
    setTimeout(()=>{balao.style.transform="scale(1)"; balao.style.opacity="1";},10);
    const rect=mascote.getBoundingClientRect();
    balao.style.bottom=`${window.innerHeight - rect.top + 20}px`;
    balao.style.right=`${window.innerWidth - rect.right}px`;
  });
  document.addEventListener("click",(e)=>{
    if(!mascote.contains(e.target) && !balao.contains(e.target)) balao.style.display="none";
  });

  // --- Partículas ---
  const canvas = document.getElementById('particles');
  const ctx = canvas.getContext('2d');
  let particles=[];
  function resize(){ canvas.width=window.innerWidth; canvas.height=window.innerHeight; }
  window.addEventListener('resize',resize); resize();
  function createParticles(){ for(let i=0;i<100;i++){ particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2+1,dx:(Math.random()-0.5)*0.5,dy:(Math.random()-0.5)*0.5});} }
  createParticles();
  function animate(){ ctx.clearRect(0,0,canvas.width,canvas.height); particles.forEach(p=>{ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fillStyle='rgba(0,255,255,0.7)';ctx.fill(); p.x+=p.dx; p.y+=p.dy; if(p.x<0||p.x>canvas.width)p.dx*=-1; if(p.y<0||p.y>canvas.height)p.dy*=-1;}); requestAnimationFrame(animate); }
  animate();

  // --- Scroll fade-in ---
  const fadeEls=document.querySelectorAll('.fade-in');
  window.addEventListener('scroll',()=>{ const triggerBottom=window.innerHeight*0.85; fadeEls.forEach(el=>{ const boxTop=el.getBoundingClientRect().top; if(boxTop<triggerBottom) el.classList.add('visible');}); });

  // --- THREE.js 3D ---
  const threeCanvas=document.getElementById('three-canvas');
  const scene3D=new THREE.Scene();
  const camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
  const renderer=new THREE.WebGLRenderer({canvas:threeCanvas, alpha:true});
  renderer.setSize(window.innerWidth,window.innerHeight);

  const geometry=new THREE.BoxGeometry();
  const material=new THREE.MeshBasicMaterial({color:0x00ffff,wireframe:true});
  const cubes=[];
  for(let i=0;i<50;i++){ const cube=new THREE.Mesh(geometry,material); cube.position.set((Math.random()-0.5)*50,(Math.random()-0.5)*50,(Math.random()-0.5)*50); scene3D.add(cube); cubes.push(cube); }
  camera.position.z=30;

  const lines=[];
  for(let i=0;i<50;i++){ const a=cubes[i]; const b=cubes[(i+Math.floor(Math.random()*cubes.length))%cubes.length]; const points=[new THREE.Vector3(a.position.x,a.position.y,a.position.z), new THREE.Vector3(b.position.x,b.position.y,b.position.z)]; const geometryLine=new THREE.BufferGeometry().setFromPoints(points); const lineMaterial=new THREE.LineBasicMaterial({color:0x00ffff,transparent:true,opacity:0.6}); const line=new THREE.Line(geometryLine,lineMaterial); scene3D.add(line); lines.push({line,a,b,t:Math.random()}); }

  function mascoteDistanceEffect(){
    const rect=mascote.getBoundingClientRect();
    const mx=rect.left+rect.width/2;
    const my=rect.top+rect.height/2;
    lines.forEach(obj=>{
      const projX=(obj.a.position.x+obj.b.position.x)/2+window.innerWidth/2;
      const projY=(obj.a.position.y+obj.b.position.y)/2+window.innerHeight/2;
      const dist=Math.hypot(mx-projX,my-projY);
      obj.line.material.opacity = dist<200 ? 1 : 0.3 + 0.4*Math.sin(obj.t*2);
    });
  }

  function animate3D(){
    requestAnimationFrame(animate3D);
    cubes.forEach(c=>{ c.rotation.x+=0.002; c.rotation.y+=0.003; });
    lines.forEach(obj=>{
      obj.t+=0.01;
      const posA=obj.a.position;
      const posB=obj.b.position;
      const lerpX=posA.x + (posB.x-posA.x)*(0.5 + 0.5*Math.sin(obj.t));
      const lerpY=posA.y + (posB.y-posA.y)*(0.5 + 0.5*Math.sin(obj.t));
      const lerpZ=posA.z + (posB.z-posA.z)*(0.5 + 0.5*Math.sin(obj.t));
      obj.line.geometry.setFromPoints([new THREE.Vector3(posA.x,posA.y,posA.z), new THREE.Vector3(lerpX,lerpY,lerpZ)]);
      obj.line.material.opacity = 0.3 + 0.4*Math.sin(obj.t*2);
    });
    mascoteDistanceEffect();
    camera.position.x=Math.sin(Date.now()*0.0005)*10;
    camera.position.y=Math.cos(Date.now()*0.0005)*5;
    camera.lookAt(0,0,0);
    renderer.render(scene3D,camera);
  }
  animate3D();

  window.addEventListener('resize',()=>{
    camera.aspect=window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth,window.innerHeight);
  });
</script>
</body>
</html>
