<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IA - EcoRobôs</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
<style>
:root {
  --dark-blue: #0a0f1e;
  --light-neutral: #f4f6f8;
  --neon-cyan: #00ffff;
  --neon-green: #39ff14;
}

/* BODY */
body {
  margin: 0;
  font-family: 'Orbitron', sans-serif;
  background-color: var(--dark-blue);
  color: var(--light-neutral);
  overflow-x: hidden;
}

/* HEADER */
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
  background: rgba(41,100,142,0.9);
  position: fixed;
  width: 100%;
  top: 0;
  z-index: 1000;
}
.logo img { height: 40px; }
nav a {
  color: var(--light-neutral);
  text-decoration: none;
  margin-left: 25px;
  font-weight: 500;
  position: relative;
}
nav a::after {
  content: '';
  display: block;
  height: 2px;
  background: var(--neon-cyan);
  transition: width 0.3s;
  width: 0;
  position: absolute;
  bottom: -4px;
  left: 0;
}
nav a:hover { color: var(--neon-cyan); }
nav a:hover::after { width: 100%; }
nav a.active { color: var(--neon-cyan); }

/* HERO */
section.hero {
  padding: 120px 20px 40px;
  text-align: center;
}
section.hero h1 {
  font-size: 3rem;
  color: var(--neon-cyan);
  margin-bottom: 20px;
}
section.hero p {
  font-size: 1.2rem;
  max-width: 700px;
  margin: auto;
  line-height: 1.6;
  color: var(--light-neutral);
}

/* CHATBOX ESTILO WHATSAPP */
.chat-container {
  max-width: 600px;
  margin: 40px auto 80px;
  display: flex;
  flex-direction: column;
  background: rgba(10,15,30,0.9);
  border: 2px solid var(--neon-cyan);
  border-radius: 20px;
  padding: 15px;
  gap: 10px;
}
#chat-window {
  max-height: 400px;
  overflow-y: auto;
  padding-right: 10px;
  scroll-behavior: smooth;
}
.message {
  padding: 10px 15px;
  margin: 5px 0;
  max-width: 75%;
  border-radius: 20px;
  word-wrap: break-word;
  position: relative;
  opacity: 0;
  transform: translateY(20px);
  animation: slideFadeIn 0.4s forwards;
  font-size: 14px;
  line-height: 1.4;
}
.message.user {
  background: var(--neon-cyan);
  color: var(--dark-blue);
  align-self: flex-end;
  border-bottom-right-radius: 5px;
}
.message.bot {
  background: var(--neon-green);
  color: #000;
  align-self: flex-start;
  border-bottom-left-radius: 5px;
}
@keyframes slideFadeIn {
  to { opacity: 1; transform: translateY(0); }
}

/* INPUT */
.input-container {
  display: flex;
  margin-top: 10px;
}
#user-input {
  flex: 1;
  padding: 10px 15px;
  border-radius: 25px;
  border: none;
  outline: none;
  font-size: 16px;
  background-color: rgba(255,255,255,0.1);
  color: #f4f6f8;
}
#send-btn, #voice-btn {
  margin-left: 10px;
  padding: 0 15px;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  font-size: 18px;
  background-color: var(--neon-cyan);
  color: #000;
}

/* CANVAS PARTICLES E 3D */
canvas#particles, canvas#three-canvas {
  position: fixed; top:0; left:0;
  width:100%; height:100%;
  pointer-events: none;
  z-index:0;
}

@media (max-width:768px){
  nav a{ margin-left:10px; font-size:0.9rem; }
  .logo img{ height:30px; }
  section.hero h1{ font-size:2rem; }
  section.hero p{ font-size:1rem; }
  .chat-container { width:90%; max-height:300px; }
}
</style>
</head>
<body>
<canvas id="particles"></canvas>
<canvas id="three-canvas"></canvas>

<header>
  <div class="logo">
    <img src="https://github.com/gustavoluiz111/assistente-ia-apresentacao/blob/main/Free.png?raw=true" alt="Logo EcoRobôs">
  </div>
  <nav>
    <a href="index.html">Home</a>
    <a href="projetos.html">Projetos</a>
    <a href="lixo.html">Lixo Eletrônico</a>
    <a href="ia.html" class="active">IA</a>
    <a href="creditos.html">Créditos</a>
  </nav>
</header>

<section class="hero">
  <h1>Converse com nossa IA</h1>
  <p>Digite sua pergunta ou use o microfone para interagir com a EcoRobôs IA.</p>
</section>

<div class="chat-container">
  <div id="chat-window"></div>
  <div class="input-container">
    <input type="text" id="user-input" placeholder="Digite sua mensagem...">
    <button id="voice-btn">🎤</button>
    <button id="send-btn">➡️</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.min.js"></script>
<script src="chat.js"></script>
<script>
// --- PARTICULAS ---
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
let particles = [];
function resize() { canvas.width=window.innerWidth; canvas.height=window.innerHeight; }
window.addEventListener('resize', resize); resize();
function createParticles() {
  for(let i=0;i<100;i++){
    particles.push({ x:Math.random()*canvas.width, y:Math.random()*canvas.height, r:Math.random()*2+1, dx:(Math.random()-0.5)*0.5, dy:(Math.random()-0.5)*0.5 });
  }
}
createParticles();
function animateParticles(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>{
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle='rgba(0,255,255,0.7)';
    ctx.fill();
    p.x+=p.dx; p.y+=p.dy;
    if(p.x<0||p.x>canvas.width)p.dx*=-1;
    if(p.y<0||p.y>canvas.height)p.dy*=-1;
  });
  requestAnimationFrame(animateParticles);
}
animateParticles();

// --- THREE.JS 3D ---
const threeCanvas=document.getElementById('three-canvas');
const scene3D=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight,0.1,1000);
const renderer=new THREE.WebGLRenderer({canvas:threeCanvas, alpha:true});
renderer.setSize(window.innerWidth,window.innerHeight);

const geometry=new THREE.BoxGeometry();
const material=new THREE.MeshBasicMaterial({color:0x00ffff, wireframe:true});
const cubes=[];
for(let i=0;i<50;i++){
  const cube=new THREE.Mesh(geometry, material);
  cube.position.set((Math.random()-0.5)*50,(Math.random()-0.5)*50,(Math.random()-0.5)*50);
  scene3D.add(cube);
  cubes.push(cube);
}
camera.position.z=30;

const lines=[];
for(let i=0;i<50;i++){
  const a=cubes[i];
  const b=cubes[(i+Math.floor(Math.random()*cubes.length))%cubes.length];
  const points=[new THREE.Vector3(a.position.x,a.position.y,a.position.z),new THREE.Vector3(b.position.x,b.position.y,b.position.z)];
  const geometryLine=new THREE.BufferGeometry().setFromPoints(points);
  const lineMaterial=new THREE.LineBasicMaterial({color:0x00ffff, transparent:true, opacity:0.6});
  const line=new THREE.Line(geometryLine,lineMaterial);
  scene3D.add(line);
  lines.push({line,a,b,t:Math.random()});
}

function animate3D(){
  requestAnimationFrame(animate3D);
  cubes.forEach(c=>{ c.rotation.x+=0.002; c.rotation.y+=0.003; });
  lines.forEach(obj=>{
    obj.t+=0.01;
    const posA=obj.a.position;
    const posB=obj.b.position;
    const lerpX=posA.x+(posB.x-posA.x)*(0.5+0.5*Math.sin(obj.t));
    const lerpY=posA.y+(posB.y-posA.y)*(0.5+0.5*Math.sin(obj.t));
    const lerpZ=posA.z+(posB.z-posA.z)*(0.5+0.5*Math.sin(obj.t));
    obj.line.geometry.setFromPoints([new THREE.Vector3(posA.x,posA.y,posA.z), new THREE.Vector3(lerpX,lerpY,lerpZ)]);
    obj.line.material.opacity=0.3+0.4*Math.sin(obj.t*2);
  });
  camera.position.x=Math.sin(Date.now()*0.0005)*10;
  camera.position.y=Math.cos(Date.now()*0.0005)*5;
  camera.lookAt(0,0,0);
  renderer.render(scene3D,camera);
}
animate3D();

window.addEventListener('resize',()=>{
  camera.aspect=window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth,window.innerHeight);
});
</script>
</body>
</html>
